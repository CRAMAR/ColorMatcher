<Window xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:ColorMatcher.ViewModels"
        xmlns:v="using:ColorMatcher.Views"
    x:Class="ColorMatcher.Views.MainWindow"
    x:DataType="vm:MainWindowViewModel"
    Icon="/Assets/avalonia-logo.ico"
    Title="ColorMatcher (Alpha)">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid Margin="24" ColumnDefinitions="340,*" RowDefinitions="Auto,*">
        <StackPanel Grid.Column="0" Spacing="16">
            <StackPanel>
                <TextBlock Text="ColorMatcher" FontSize="24" FontWeight="SemiBold" />
                <TextBlock Text="Enter target and sample colors to visualize in LAB space." Opacity="0.7" />
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Reference Color (Target)" FontWeight="SemiBold" />
                <Border CornerRadius="8" BorderBrush="#2E2E2E" BorderThickness="1" Background="#101010">
                    <StackPanel Spacing="12" Margin="12">
                    <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto" ColumnSpacing="12" RowSpacing="8">
                        <TextBlock Text="Hex" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding ReferenceHex}" Grid.Row="0" Grid.Column="1" Watermark="#FFFFFF" />

                        <TextBlock Text="R" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding ReferenceR}" Grid.Row="1" Grid.Column="1" Watermark="255" />

                        <TextBlock Text="G" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding ReferenceG}" Grid.Row="2" Grid.Column="1" Watermark="255" />

                        <TextBlock Text="B" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding ReferenceB}" Grid.Row="3" Grid.Column="1" Watermark="255" />
                    </Grid>

                    <Border Height="72" CornerRadius="8" BorderBrush="#2E2E2E" BorderThickness="1" Background="{Binding ReferenceBrush}">
                        <TextBlock Text="Reference" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.8" />
                    </Border>
                    </StackPanel>
                </Border>
            </StackPanel>

            <StackPanel Spacing="8">
                <TextBlock Text="Sample Color" FontWeight="SemiBold" />
                <Border CornerRadius="8" BorderBrush="#2E2E2E" BorderThickness="1" Background="#101010">
                    <StackPanel Spacing="12" Margin="12">
                    <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto" ColumnSpacing="12" RowSpacing="8">
                        <TextBlock Text="Hex" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding SampleHex}" Grid.Row="0" Grid.Column="1" Watermark="#808080" />

                        <TextBlock Text="R" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding SampleR}" Grid.Row="1" Grid.Column="1" Watermark="128" />

                        <TextBlock Text="G" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding SampleG}" Grid.Row="2" Grid.Column="1" Watermark="128" />

                        <TextBlock Text="B" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" />
                        <TextBox Text="{Binding SampleB}" Grid.Row="3" Grid.Column="1" Watermark="128" />
                    </Grid>

                    <Border Height="72" CornerRadius="8" BorderBrush="#2E2E2E" BorderThickness="1" Background="{Binding SampleBrush}">
                        <TextBlock Text="Sample" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.8" />
                    </Border>
                    </StackPanel>
                </Border>
            </StackPanel>
        </StackPanel>

        <Border Grid.Column="1" Margin="24,0,0,0" CornerRadius="12" BorderBrush="#2E2E2E" BorderThickness="1" Background="#141414">
            <StackPanel Margin="24" Spacing="12">
                <TextBlock Text="LAB Color Space" FontSize="20" FontWeight="SemiBold" />
                <v:LabColorGraph x:Name="LabGraph" Height="420" />
                <StackPanel Spacing="4">
                    <TextBlock Text="{Binding ColorDifference, StringFormat='Î”E: {0:F2}'}" FontSize="12" />
                    <TextBlock Text="{Binding TintRecommendation}" Foreground="#90CAF9" FontSize="11" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>

</Window>
