<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ColorMatcher: ColorMatcher.Models.InMemoryColorRepository Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ColorMatcher
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceColorMatcher.html">ColorMatcher</a></li><li class="navelem"><a class="el" href="namespaceColorMatcher_1_1Models.html">Models</a></li><li class="navelem"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html">InMemoryColorRepository</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classColorMatcher_1_1Models_1_1InMemoryColorRepository-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ColorMatcher.Models.InMemoryColorRepository Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>In-memory implementation of IColorRepository for development, testing, and prototyping.  
 <a href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ColorMatcher.Models.InMemoryColorRepository:</div>
<div class="dyncontent">
<div class="center"><img src="classColorMatcher_1_1Models_1_1InMemoryColorRepository__inherit__graph.png" border="0" usemap="#aColorMatcher_8Models_8InMemoryColorRepository_inherit__map" alt="Inheritance graph"/></div>
<map name="aColorMatcher_8Models_8InMemoryColorRepository_inherit__map" id="aColorMatcher_8Models_8InMemoryColorRepository_inherit__map">
<area shape="rect" title="In&#45;memory implementation of IColorRepository for development, testing, and prototyping." alt="" coords="5,79,235,119"/>
<area shape="rect" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html" title="Repository interface for persisting color matching projects and history." alt="" coords="55,5,185,31"/>
<area shape="poly" title=" " alt="" coords="123,44,123,79,117,79,117,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ColorMatcher.Models.InMemoryColorRepository:</div>
<div class="dyncontent">
<div class="center"><img src="classColorMatcher_1_1Models_1_1InMemoryColorRepository__coll__graph.png" border="0" usemap="#aColorMatcher_8Models_8InMemoryColorRepository_coll__map" alt="Collaboration graph"/></div>
<map name="aColorMatcher_8Models_8InMemoryColorRepository_coll__map" id="aColorMatcher_8Models_8InMemoryColorRepository_coll__map">
<area shape="rect" title="In&#45;memory implementation of IColorRepository for development, testing, and prototyping." alt="" coords="5,79,235,119"/>
<area shape="rect" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html" title="Repository interface for persisting color matching projects and history." alt="" coords="55,5,185,31"/>
<area shape="poly" title=" " alt="" coords="123,44,123,79,117,79,117,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65208f7f9a8325d18da9d8b758c91117" id="r_a65208f7f9a8325d18da9d8b758c91117"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#a65208f7f9a8325d18da9d8b758c91117">CreateProjectAsync</a> (<a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> project)</td></tr>
<tr class="memdesc:a65208f7f9a8325d18da9d8b758c91117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new color project and persists it.  <br /></td></tr>
<tr class="separator:a65208f7f9a8325d18da9d8b758c91117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab682085ca3a312c8731b4dd08e5337b9" id="r_ab682085ca3a312c8731b4dd08e5337b9"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a>?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#ab682085ca3a312c8731b4dd08e5337b9">GetProjectAsync</a> (string projectId)</td></tr>
<tr class="memdesc:ab682085ca3a312c8731b4dd08e5337b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a project by its unique identifier.  <br /></td></tr>
<tr class="separator:ab682085ca3a312c8731b4dd08e5337b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064c29ec700e2f1d6c477651168f8d96" id="r_a064c29ec700e2f1d6c477651168f8d96"><td class="memItemLeft" align="right" valign="top">Task&lt; IEnumerable&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#a064c29ec700e2f1d6c477651168f8d96">GetAllProjectsAsync</a> ()</td></tr>
<tr class="memdesc:a064c29ec700e2f1d6c477651168f8d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all projects stored in the repository.  <br /></td></tr>
<tr class="separator:a064c29ec700e2f1d6c477651168f8d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e08f316db0f5a793db557c1dfbb493e" id="r_a4e08f316db0f5a793db557c1dfbb493e"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#a4e08f316db0f5a793db557c1dfbb493e">UpdateProjectAsync</a> (<a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> project)</td></tr>
<tr class="memdesc:a4e08f316db0f5a793db557c1dfbb493e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an existing project with new values.  <br /></td></tr>
<tr class="separator:a4e08f316db0f5a793db557c1dfbb493e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf948d42c4a574c80910524a6161c08" id="r_acbf948d42c4a574c80910524a6161c08"><td class="memItemLeft" align="right" valign="top">Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#acbf948d42c4a574c80910524a6161c08">DeleteProjectAsync</a> (string projectId)</td></tr>
<tr class="memdesc:acbf948d42c4a574c80910524a6161c08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a project and all associated data from the repository.  <br /></td></tr>
<tr class="separator:acbf948d42c4a574c80910524a6161c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1627beb40e9fa947be896ab62e2f4a7" id="r_aa1627beb40e9fa947be896ab62e2f4a7"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#aa1627beb40e9fa947be896ab62e2f4a7">AddColorHistoryAsync</a> (string projectId, <a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a> colorEntry)</td></tr>
<tr class="memdesc:aa1627beb40e9fa947be896ab62e2f4a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new color history entry to a project's history.  <br /></td></tr>
<tr class="separator:aa1627beb40e9fa947be896ab62e2f4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc3c0b7279bd263ae19335b3f2a93d2" id="r_aabc3c0b7279bd263ae19335b3f2a93d2"><td class="memItemLeft" align="right" valign="top">Task&lt; IEnumerable&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#aabc3c0b7279bd263ae19335b3f2a93d2">GetColorHistoryAsync</a> (string projectId)</td></tr>
<tr class="memdesc:aabc3c0b7279bd263ae19335b3f2a93d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves complete color history for a specific project.  <br /></td></tr>
<tr class="separator:aabc3c0b7279bd263ae19335b3f2a93d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840ca1d0895e3e5f7307a47ca3128d0f" id="r_a840ca1d0895e3e5f7307a47ca3128d0f"><td class="memItemLeft" align="right" valign="top">Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#a840ca1d0895e3e5f7307a47ca3128d0f">ClearColorHistoryAsync</a> (string projectId)</td></tr>
<tr class="memdesc:a840ca1d0895e3e5f7307a47ca3128d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all color history entries for a project.  <br /></td></tr>
<tr class="separator:a840ca1d0895e3e5f7307a47ca3128d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af220ae6991ef0dcc8ec195db11d993c7" id="r_af220ae6991ef0dcc8ec195db11d993c7"><td class="memItemLeft" align="right" valign="top">Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#af220ae6991ef0dcc8ec195db11d993c7">ExportProjectAsJsonAsync</a> (string projectId)</td></tr>
<tr class="memdesc:af220ae6991ef0dcc8ec195db11d993c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exports a project to JSON format for external use or backup.  <br /></td></tr>
<tr class="separator:af220ae6991ef0dcc8ec195db11d993c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57f5a9fcdff65fd9d678899f416ad5f" id="r_af57f5a9fcdff65fd9d678899f416ad5f"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html#af57f5a9fcdff65fd9d678899f416ad5f">ImportProjectFromJsonAsync</a> (string jsonData)</td></tr>
<tr class="memdesc:af57f5a9fcdff65fd9d678899f416ad5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports a project from JSON format.  <br /></td></tr>
<tr class="separator:af57f5a9fcdff65fd9d678899f416ad5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>In-memory implementation of IColorRepository for development, testing, and prototyping. </p>
<p>Stores all projects and history in memory using a Dictionary&lt;string, ColorProject&gt;. All data is lost when the application exits (no persistence to disk).</p>
<p><b>Use Cases</b></p>
<ol type="1">
<li><b>Development</b>: Quick prototyping without file I/O overhead</li>
<li><b>Unit Testing</b>: Mock repository for isolated ViewModel/business logic tests</li>
<li><b>Integration Testing</b>: Test entire workflows without database/file system</li>
<li><b>Demo/Prototype</b>: Temporary projects without persistence requirements</li>
<li><b>Performance Testing</b>: Baseline measurements without storage latency</li>
</ol>
<p><b>Characteristics</b></p>
<ul>
<li><b>Speed</b>: Ultra-fast, all operations &lt;1ms</li>
<li><b>Simplicity</b>: No file system or database concerns</li>
<li><b>Thread-Safety</b>: Synchronized via internal lock for concurrent access</li>
<li><b>Non-Durable</b>: All data lost on exit (feature, not bug, for testing)</li>
<li><b>Memory</b>: Stores complete projects in memory (fine for test datasets)</li>
</ul>
<p><b>Data Structure</b></p>
<p>Uses Dictionary&lt;ProjectId, ColorProject&gt; for O(1) lookups:</p><ul>
<li>Key: Project GUID (unique identifier)</li>
<li>Value: Complete ColorProject including all ColorHistoryEntry records</li>
<li>Thread-safe access via internal lock</li>
</ul>
<p><b>Thread Safety</b></p>
<p>All operations protected by a lock to ensure consistency:</p><ul>
<li>Prevents corruption when multiple threads access simultaneously</li>
<li>Serializes modifications (updates wait for lock release)</li>
<li>Safe for concurrent reads and writes (lock held for entire operation)</li>
</ul>
<p><b>Typical Usage in Tests</b></p>
<div class="fragment"><div class="line"><span class="comment">// Test setup</span></div>
<div class="line">var repository = <span class="keyword">new</span> <a class="code hl_class" href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html">InMemoryColorRepository</a>();</div>
<div class="line">var viewModel = <span class="keyword">new</span> MainWindowViewModel { Repository = repository };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create and test</span></div>
<div class="line">var project = <span class="keyword">new</span> <a class="code hl_class" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> { Id = Guid.NewGuid().ToString(), Name = <span class="stringliteral">&quot;Test&quot;</span> };</div>
<div class="line">await repository.CreateProjectAsync(project);</div>
<div class="line">var retrieved = await repository.GetProjectAsync(project.Id);</div>
<div class="line">Assert.NotNull(retrieved);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// On test exit: all data discarded (clean state for next test)</span></div>
<div class="ttc" id="aclassColorMatcher_1_1Models_1_1ColorProject_html"><div class="ttname"><a href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorMatcher.Models.ColorProject</a></div><div class="ttdoc">Represents a color matching project with reference and sample colors.</div><div class="ttdef"><b>Definition</b> ColorProject.cs:43</div></div>
<div class="ttc" id="aclassColorMatcher_1_1Models_1_1InMemoryColorRepository_html"><div class="ttname"><a href="classColorMatcher_1_1Models_1_1InMemoryColorRepository.html">ColorMatcher.Models.InMemoryColorRepository</a></div><div class="ttdoc">In-memory implementation of IColorRepository for development, testing, and prototyping.</div><div class="ttdef"><b>Definition</b> InMemoryColorRepository.cs:81</div></div>
</div><!-- fragment --><p><b>FileColorRepository Relationship</b></p>
<p>FileColorRepository uses InMemoryColorRepository internally:</p><ol type="1">
<li>Loads all projects from disk JSON files</li>
<li>Caches in InMemoryColorRepository for fast access</li>
<li>For new projects, writes to both memory and disk</li>
</ol>
<p>This hybrid design provides both performance (memory cache) and durability (disk backup).</p>
<p><b>Performance Characteristics</b></p>
<ul>
<li>CreateProjectAsync: O(1) dictionary insert</li>
<li>GetProjectAsync: O(1) dictionary lookup</li>
<li>GetAllProjectsAsync: O(n) enumeration of n projects</li>
<li>DeleteProjectAsync: O(1) dictionary removal</li>
<li>All operations complete &lt;1ms on modern hardware </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa1627beb40e9fa947be896ab62e2f4a7" name="aa1627beb40e9fa947be896ab62e2f4a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1627beb40e9fa947be896ab62e2f4a7">&#9670;&#160;</a></span>AddColorHistoryAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a> &gt; ColorMatcher.Models.InMemoryColorRepository.AddColorHistoryAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a>&#160;</td>
          <td class="paramname"><em>colorEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new color history entry to a project's history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The project ID to add history to</td></tr>
    <tr><td class="paramname">colorEntry</td><td>The color matching attempt to record</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created color entry, potentially with auto-generated fields like Id and CreatedAt. Entry is now persisted and included in project history. </dd></dl>
<p>Called each time user saves a color match attempt. Automatically loads project, adds entry, and saves back to storage. This is the primary method for building color matching history over time. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a750336863f2f42b1caee3842b0ac2fe9">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="a840ca1d0895e3e5f7307a47ca3128d0f" name="a840ca1d0895e3e5f7307a47ca3128d0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840ca1d0895e3e5f7307a47ca3128d0f">&#9670;&#160;</a></span>ClearColorHistoryAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; bool &gt; ColorMatcher.Models.InMemoryColorRepository.ClearColorHistoryAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all color history entries for a project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The project ID to clear history for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if history was successfully cleared. False if project not found or already had no history. </dd></dl>
<p>Called by user "Clear History" action. Preserves project but resets ColorHistory list to empty. Project itself (name, reference color, sample color) is preserved. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a7638329598d27f4993ba4f51e025cad5">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="a65208f7f9a8325d18da9d8b758c91117" name="a65208f7f9a8325d18da9d8b758c91117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65208f7f9a8325d18da9d8b758c91117">&#9670;&#160;</a></span>CreateProjectAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt; ColorMatcher.Models.InMemoryColorRepository.CreateProjectAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a>&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new color project and persists it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">project</td><td>The color project to create. Must have a unique Id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created project. May include auto-generated fields like timestamps. Project is now persisted and can be retrieved via GetProjectAsync. </dd></dl>
<p>Creates the project in the underlying storage (file, database, etc.). If a project with the same ID already exists, behavior depends on implementation:</p><ul>
<li>FileColorRepository: Creates in new file (overwrites existing)</li>
<li>InMemoryColorRepository: Stores in dictionary </li>
</ul>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#ad965da5a957b2f8d6436b88666be5e05">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="acbf948d42c4a574c80910524a6161c08" name="acbf948d42c4a574c80910524a6161c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf948d42c4a574c80910524a6161c08">&#9670;&#160;</a></span>DeleteProjectAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; bool &gt; ColorMatcher.Models.InMemoryColorRepository.DeleteProjectAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a project and all associated data from the repository. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The project ID to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if project was successfully deleted. False if project with given ID was not found. </dd></dl>
<p>Removes project file (in file-based implementation) or database record. This operation is typically permanent and non-recoverable. All associated color history is also deleted. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a531aac32f5467b8faa90808b48f5ff1f">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="af220ae6991ef0dcc8ec195db11d993c7" name="af220ae6991ef0dcc8ec195db11d993c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af220ae6991ef0dcc8ec195db11d993c7">&#9670;&#160;</a></span>ExportProjectAsJsonAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; string &gt; ColorMatcher.Models.InMemoryColorRepository.ExportProjectAsJsonAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exports a project to JSON format for external use or backup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The project ID to export</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON string containing complete project data including all history. Can be saved to file, sent via email, or stored in version control. </dd></dl>
<p>Used for:</p><ul>
<li>Backup/archival purposes</li>
<li>Sharing projects with others</li>
<li>Version control (Git) compatibility</li>
<li>Data portability</li>
</ul>
<p>Recommended JSON structure includes all project fields and complete ColorHistory. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a7105a119caf5bac034a9b40578e3fa9a">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="a064c29ec700e2f1d6c477651168f8d96" name="a064c29ec700e2f1d6c477651168f8d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a064c29ec700e2f1d6c477651168f8d96">&#9670;&#160;</a></span>GetAllProjectsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; IEnumerable&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt; &gt; ColorMatcher.Models.InMemoryColorRepository.GetAllProjectsAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves all projects stored in the repository. </p>
<dl class="section return"><dt>Returns</dt><dd>Collection of all color projects. Empty if no projects exist. Projects are typically ordered by ModifiedAt (most recent first) for UI display. </dd></dl>
<p>Used for populating "Recent Projects" list in application. May be expensive for large numbers of projects - consider pagination for future enhancement. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#ac6f4d5907025823626571ea69b615cd0">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="aabc3c0b7279bd263ae19335b3f2a93d2" name="aabc3c0b7279bd263ae19335b3f2a93d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc3c0b7279bd263ae19335b3f2a93d2">&#9670;&#160;</a></span>GetColorHistoryAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; IEnumerable&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorHistoryEntry.html">ColorHistoryEntry</a> &gt; &gt; ColorMatcher.Models.InMemoryColorRepository.GetColorHistoryAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves complete color history for a specific project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The project ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Collection of color history entries for this project. Typically ordered by CreatedAt (oldest to newest or reverse). Empty if project has no history. </dd></dl>
<p>Used to display color history in DataGrid on UI. Each entry contains reference color, sample color, Î”E, and recommendation. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a050be05801c88df2440efbb3aa88e0d8">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="ab682085ca3a312c8731b4dd08e5337b9" name="ab682085ca3a312c8731b4dd08e5337b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab682085ca3a312c8731b4dd08e5337b9">&#9670;&#160;</a></span>GetProjectAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a>?&gt; ColorMatcher.Models.InMemoryColorRepository.GetProjectAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves a project by its unique identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">projectId</td><td>The unique project identifier (typically GUID)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The color project if found, including full ColorHistory. Returns null if project with given ID doesn't exist. </dd></dl>
<p>Loads the complete project from storage including all associated color history. This is typically the first operation when user opens an existing project. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#ac9703d13a166119d1b65be5b395999ab">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="af57f5a9fcdff65fd9d678899f416ad5f" name="af57f5a9fcdff65fd9d678899f416ad5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57f5a9fcdff65fd9d678899f416ad5f">&#9670;&#160;</a></span>ImportProjectFromJsonAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt; ColorMatcher.Models.InMemoryColorRepository.ImportProjectFromJsonAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>jsonData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Imports a project from JSON format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jsonData</td><td>JSON string containing project data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The imported project with all data restored</dd></dl>
<p>Inverse operation of ExportProjectAsJsonAsync. Parses JSON and creates new project in repository. Used for:</p><ul>
<li>Restoring from backups</li>
<li>Receiving shared projects</li>
<li>Migrating from other systems</li>
</ul>
<p>Typically generates new ID for imported project to avoid conflicts with existing projects. </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#a5e39d53cbd805b66b3eac3b3d940e0fd">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<a id="a4e08f316db0f5a793db557c1dfbb493e" name="a4e08f316db0f5a793db557c1dfbb493e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e08f316db0f5a793db557c1dfbb493e">&#9670;&#160;</a></span>UpdateProjectAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt; <a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a> &gt; ColorMatcher.Models.InMemoryColorRepository.UpdateProjectAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classColorMatcher_1_1Models_1_1ColorProject.html">ColorProject</a>&#160;</td>
          <td class="paramname"><em>project</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates an existing project with new values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">project</td><td>The project with updated field values. Must have existing Id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The updated project as persisted</dd></dl>
<p>Overwrites the project in storage with new values. ModifiedAt timestamp is automatically updated to current time. ColorHistory list is preserved (to add entries, use AddColorHistoryAsync). If project doesn't exist, behavior depends on implementation (may throw or create new). </p>

<p>Implements <a class="el" href="interfaceColorMatcher_1_1Models_1_1IColorRepository.html#adf11439fa6c35742dcfc436baa4fd437">ColorMatcher.Models.IColorRepository</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Models/<b>InMemoryColorRepository.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
